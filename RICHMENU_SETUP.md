# リッチメニュー設定手順

## 📋 概要

このスクリプトは、LINE Bot用のリッチメニューを自動的に設定します。

---

## 🎨 リッチメニュー構成

### 6分割（2行×3列）

| 一般占い | 恋愛占い | 決済 |
|---------|---------|------|
| ルカ占い | カード解釈集 | マイページ |

---

## 🚀 実行方法

### 1. 環境変数の設定

`.env`ファイルに以下が設定されていることを確認してください：

```
LINE_CHANNEL_ACCESS_TOKEN=your_channel_access_token
LINE_CHANNEL_SECRET=your_channel_secret
```

### 2. スクリプトの実行

#### 新規作成の場合：

```bash
node setup-richmenu.js
```

#### 既存のリッチメニューを削除してから作成する場合：

```bash
node setup-richmenu.js --delete
```

---

## ⚙️ リッチメニューの詳細設定

### サイズ
- **幅**: 2500px
- **高さ**: 1686px

### エリア設定

| エリア | 位置 | アクション |
|--------|------|-----------|
| 一般占い | 上段左 (0, 0, 833, 843) | 「タロット占い」を送信 |
| 恋愛占い | 上段中央 (833, 0, 834, 843) | 「ルカ占い」を送信 |
| 決済 | 上段右 (1667, 0, 833, 843) | 「支払い」を送信 |
| ルカ占い | 下段左 (0, 843, 833, 843) | 「ルカ占い」を送信 |
| カード解釈集 | 下段中央 (833, 843, 834, 843) | 「カード解釈集」を送信 |
| マイページ | 下段右 (1667, 843, 833, 843) | 「ヘルプ」を送信 |

---

## 🔧 トラブルシューティング

### エラー: `Invalid channel access token`
- `.env`ファイルの`LINE_CHANNEL_ACCESS_TOKEN`が正しいか確認してください

### エラー: `Image file not found`
- `richmenu/richmenu_2500x1686.png`が存在するか確認してください

### エラー: `Rich menu already exists`
- `--delete`オプションを付けて実行してください

---

## 📝 注意事項

- リッチメニューは1つのBotにつき1000個まで作成できます
- デフォルトのリッチメニューは1つのみ設定できます
- 既存のデフォルトリッチメニューは自動的に上書きされます

---

## ✅ 設定完了後の確認

1. LINE Botをトークルームで開く
2. 画面下部にリッチメニューが表示されているか確認
3. 各ボタンをタップして動作を確認

---

## 🎯 カスタマイズ

`setup-richmenu.js`の`richMenu`オブジェクトを編集することで、以下をカスタマイズできます：

- `chatBarText`: メニューバーに表示されるテキスト
- `areas`: 各エリアの位置とアクション
- `name`: リッチメニューの名前（管理用）

---

## 📚 参考資料

- [LINE Messaging API - リッチメニュー](https://developers.line.biz/ja/docs/messaging-api/using-rich-menus/)
- [LINE Bot SDK for Node.js](https://github.com/line/line-bot-sdk-nodejs)
